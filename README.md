Node.js server task, written as part of course from yandex summer school open lectorium

У нас есть свой сервис Фильмопоиск.

К сожалению сервис недавно сломался, кода не осталось и все что у нас есть - это вы, слабый сервер и бэкап базы данных сервиса в формате .txt .

Мы ждем что вы напишете сервер на Node.js, который сможет раздавать информацию о фильмах и статические файлы.

Ваша задача:

- при запуске вашего сервера прочитать переменные окружения PORT и BACKUP_FILE_PATH
- отвечать по эндпоинту /ping
- пресылать обратно сообщение отправленное на эндпоинт POST /echo
- отдавать ответ 404 на запросы по несуществующему пути
- прочитать файл бэкапа базы данных. Файл лежит по пути BACKUP_FILE_PATH (может быть довольно большой) и не упасть
- каждая строчка этого файла - это строка с сериализованным JSON с информацией о фильме в формате:

    
        interface IBackupFileRow {
          id: string;
          title: string;
          description: string;
          genre: string;
          img: string; // строка с постером фильма в base64
          release_year: number;
          screenshots: string[];
          actors: string[], // id актеров
          averange_rate: string; // Средняя оценка
          total_rates_from_user: string; // Сколько всего пользователей оценили этот фильм
        }

- отдавать карточки фильмов в формате JSON при запросе по адресу /api/v1/movie/<movie_id> . Формат ответа:


        interface IFilmCard {
           id: string;
           title: string;
           description: string;
           genre: string;
           release_year: number;
        }

- отдавать массив карточек фильмов при поисковом запросе по /api/v1/search с поисковым параметром title (строка по которой ищем название фильма) и page (номер странцы в пангинации).

Поиск должен быть не чувствителен к заглавным/строчным буквам, строка может быть не полным названием фильма. Представьте что у нас на фронтенде будет инпут, пользователь будет вводить поисковый запрос, фронтенд с дебаунсом будет посылать запросы на бэкенд и показывать пользователю дропдаун с подсказками.

Результаты поиска должны отдаваться с пангинацией по 10 карточек. Страница пангинации передается опционным параметром page (номер страницы в пангинации). Ответ на поисковый запрос должен быть в формате:

    interface ISearchResponse {
        search_result: IFilmCard[]
    }

- распарсить и положить картинки постеров фильмов в файловую систему сервиса в папку ./images . Каждая картинка должна иметь имя <movie_id>.jpeg , например 12345.jpeg
- отдавать картинки по ручке GET /static/images/<movie_id>.jpeg
